/* Styles extracted from pages/mock/home-with-guides.js
   Purpose: dedicated stylesheet for the mock guides scroller and cards
*/

/* Center with the page content and make cards wider */
.learn-more { width: 100%; }
/* increase max-width but keep the block left-aligned to match other sections */
.learn-inner { max-width: 1200px; margin: 0; }
/* remove extra left padding so this block lines up with Learning Paths */
.cards-viewport { overflow-x: auto; -webkit-overflow-scrolling: touch; padding-left:0; padding-right:12px; white-space: nowrap; position: relative; }
/* remove temporary debug outline */
.cointist-scroller-viewport { outline: none; }
.cards-track { display: inline-flex; gap: 12px; align-items: stretch; flex-wrap: nowrap; width: max-content; }
/* fixed base width so multiple cards overflow the viewport and scrolling is possible; adjust 260px to taste */
.learn-card { 
  box-sizing: border-box; 

  min-width: 260px; 
  
  display:flex; 
  flex-direction:column; 
  gap:10px; 
  background: transparent; /* restore lighter look */
  border-radius: 10px; 
  border: none; 
  min-height: 360px; 
}

/* taller image to give the card more vertical rhythm; overlay added for better contrast */
.learn-card .card-visual { 
  position: relative; 
  border-radius: 8px; 
  overflow: hidden; 
}
.learn-card .card-visual img { 
  width: 100%; 
  height: 260px; 
  object-fit: cover; 
  display: block; 
}
.learn-card .card-visual::after { 
  content: ''; 
  position: absolute; 
  inset: 0; 
  pointer-events: none; 
  /* lighter overlay for a softer appearance */
  background: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.36)); 
}

/* caption panel below the visual - clearer, consistent surface for text */
.learn-card .card-caption{
  display: block;
  margin-top: 10px;
  /* caption sits on transparent background now */
  background: transparent;
  padding: 10px 12px;
  border-radius: 8px;
  flex: 0 0 auto;
  white-space: normal; /* allow text to wrap instead of inheriting nowrap */
  width: 100%;
  box-sizing: border-box;
}

.learn-card .card-caption h4 { margin: 0 0 6px; color: #ffffff; font-size: 16px; font-weight:700; display:block; white-space: normal; }
.learn-card .card-caption p { margin: 0; color: rgba(255,255,255,0.92); font-size:13px; line-height:1.4; display:block; white-space: normal; }

/* stronger, higher-contrast text for readability */
.learn-card h4 { f
  margin: 0; 
  font-size: 17px; 
  line-height: 1.25; 
  color: #ffffff; 
  font-weight: 700; 
  text-shadow: 0 1px 2px rgba(0,0,0,0.6); 
}
.learn-card p { 
  margin: 0; 
  color: rgba(255,255,255,0.95); 
  font-size:14px; 
  line-height:1.5; 
  text-shadow: 0 1px 2px rgba(0,0,0,0.45); 
  overflow-wrap: anywhere; 
  background: transparent; /* remove pill background so caption panel is the single surface */
  padding: 0; /* caption padding handled by .card-caption */
  border-radius: 0;
}
.cards-nav { display: flex; gap: 8px; margin-top: 12px; }
.cards-prev, .cards-next { background: #14f195; border: none; color: #02120f; width: 36px; height: 36px; border-radius: 8px; cursor: pointer; }

/* Native scrollbar for the cards viewport (styled) - keep page scrollbar hidden */
/* WebKit */
.cards-viewport::-webkit-scrollbar { height: 10px; }
.cards-viewport::-webkit-scrollbar-track { background: transparent; }
.cards-viewport::-webkit-scrollbar-thumb { background: rgba(20,241,149,0.18); border-radius: 999px; border: 2px solid transparent; background-clip: padding-box; }
.cards-viewport:hover::-webkit-scrollbar-thumb { background: rgba(20,241,149,0.32); }
.cards-viewport::-webkit-scrollbar-thumb:active { background: rgba(20,241,149,0.54); }

/* IE/Edge - use default behavior */
.cards-viewport { -ms-overflow-style: auto; }

/* Firefox */
.cards-viewport { scrollbar-width: thin; scrollbar-color: rgba(20,241,149,0.25) transparent; }

/* Accessible focus styles for arrow buttons */
.cards-prev:focus, .cards-next:focus { outline: 2px solid rgba(20,241,149,0.28); outline-offset: 2px; }

/* Mobile / narrow viewport tweaks copied from guides-layout.css for consistent sizing */
@media (max-width:700px){
  .learn-inner h3{font-size:20px; text-align: center;}
  .learn-card{flex:0 0 220px}
  .cards-nav{display:none}
  /* Ensure the mock block fits mobile container and doesn't force page width */
  .learn-more { max-width: 100%; padding: 0 12px; box-sizing: border-box; }
  .learn-inner { max-width: 100%; width: 100%; padding: 0; margin: 0 auto; box-sizing: border-box; }
}

@media (max-width:480px){
  .cards-track{gap:12px;padding-bottom:28px}
  .cards-track{scroll-snap-type:x mandatory}
  /* Force the viewport to be scrollable on touch devices and allow horizontal pan */
  .cards-viewport{
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch;
    touch-action: pan-x;
    overscroll-behavior-x: contain;
    padding-left:12px; padding-right:12px;
  }
  /* Restore compact percentage-based cards so mobile scroller behaves as before */
  .learn-card{flex:0 0 78%; max-width:78%; margin:0 6px; box-sizing:border-box; padding:10px; border-radius:10px}
  .learn-card .card-visual{width:100%; aspect-ratio: 16/9; overflow:hidden; display:block}
  .learn-card .card-visual img{width:100%; height:96px; object-fit:contain; display:block; border-radius:8px}
  .learn-card h4{font-size:15px;margin-top:8px}
  .learn-card p{font-size:13px}
  .cards-prev,.cards-next{display:none}
  .cards-viewport{position:relative; --cards-thumb-left: 8%; --cards-thumb-width: 32%;}
  .cards-viewport::before{
    content:'';
    position:absolute;
    left:8%;
    right:8%;
    bottom:12px;
    height:6px;
    border-radius:999px;
    background:rgba(78,255,172,0.12);
    pointer-events:none;
    z-index:6;
  }
  .cards-viewport::after{
    content:'';
    position:absolute;
    left: var(--cards-thumb-left, 8%);
    bottom:12px;
    height:6px;
    width: var(--cards-thumb-width, 32%);
    border-radius:999px;
    background:linear-gradient(90deg,#4EFFAC,#2CE561);
    pointer-events:none;
    z-index:7;
    box-shadow:0 2px 8px rgba(46,230,121,0.18);
    transition: left .12s linear, width .12s linear;
  }

  /* Stronger mobile image rule: use !important to override competing styles */
  .cards-viewport .learn-card .card-visual img,
  .learn-card .card-visual img,
  .cards-track .card-visual img {
    height: 96px !important;
    width: 100% !important;
    object-fit: contain !important;
    display: block !important;
  }

  /* Prevent children from intercepting pointer gestures that block horizontal swipe */
  .cards-track, .learn-card, .card-visual { touch-action: pan-x; -ms-touch-action: pan-x; }
  .learn-card img { -webkit-user-drag: none; user-drag: none; }
}

@media (max-width:420px){
  /* slightly narrower cards on very small phones */
  .learn-card{flex:0 0 82%;min-width:82%;margin:0 6px;padding:8px}
  .learn-card .card-visual img{height:140px !important; width:100% !important}
  .learn-card .card-caption h4{font-size:16px}
  .learn-card .card-caption p{font-size:13px}
  /* small visual guard removed: don't set overflow-x:hidden on html/body as it blocks nested horizontal panning */
  /* Force mock scroller to reserve inner padding inside viewport */
  .learn-more { padding: 0 8px; }
  .learn-inner { padding: 0; }
}
